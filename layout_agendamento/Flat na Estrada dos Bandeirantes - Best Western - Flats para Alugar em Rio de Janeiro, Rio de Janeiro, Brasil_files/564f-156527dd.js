(window.webpackJsonp=window.webpackJsonp||[]).push([["564f"],{ISt3:function(n,t,e){"use strict";e.d(t,"b",(function(){return r})),e.d(t,"c",(function(){return i})),e.d(t,"d",(function(){return a})),e.d(t,"a",(function(){return o}));var r=6,i=3,a={INITIAL:0,LOADING:1,SUCCESS:2,ERROR:3},o={COHOSTING_INVITATION_RECEIVED:117,COHOSTING_INVITATION_ACCEPTED:118,ACTION_NOTIFICATION:180}},IsoZ:function(n,t,e){"use strict";e.d(t,"e",(function(){return a})),e.d(t,"d",(function(){return s})),e.d(t,"a",(function(){return d})),e.d(t,"b",(function(){return f})),e.d(t,"c",(function(){return l}));var r=e("g8Fj"),i=e("ISt3");function a(n){return n.thread_url||"/z/q/".concat(n.id)}function o(n){return n===i.a.COHOSTING_INVITATION_RECEIVED||n===i.a.COHOSTING_INVITATION_ACCEPTED}function u(n,t){var e=t.id,i=t.type,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.queue,u=void 0!==o&&o;r.a.logEvent({event_name:"cohost_notification_dropdown",queue:u,debounce:!u,event_data:{operation:n,page:"host_dashboard",section:"view_dashboard",notification_type:i,notification_id:e}})}function c(n,t){var e=t.actionNotificationType,i=t.id,a=t.isUnread,o=t.type,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=u.queue,s=void 0!==c&&c;r.a.logEvent({event_name:"magical_trips",queue:s,debounce:!s,event_data:{operation:n,page:"notification_menu",section:"dashboard_alerts",alert_id:i,alert_type:o,action_notification_type:e,viewed:!a}})}function s(n,t){r.a.logEvent({event_name:"magical_trips",queue:!0,event_data:{operation:"click_dashboard",page:"notification_menu",section:"dashboard_alerts",total_notifications:n,visible_notifications:t}})}function d(n){var t=n.actionNotificationType,e=n.id,r=n.isUnread,i=n.type;o(i)&&u("impression",{id:e,type:i}),c("impression",{actionNotificationType:t,id:e,isUnread:r,type:i})}function f(n){var t=n.actionNotificationType,e=n.id,r=n.isUnread,i=n.type;o(i)&&u("click",{id:e,type:i},{queue:!0}),c("click_open",{actionNotificationType:t,id:e,isUnread:r,type:i},{queue:!0})}function l(n){var t=n.actionNotificationType,e=n.id,r=n.isUnread,i=n.type;o(i)&&u("click_dismiss",{id:e,type:i}),c("click_dismiss",{actionNotificationType:t,id:e,isUnread:r,type:i})}},PoWQ:function(n,t,e){"use strict";e.d(t,"b",(function(){return b})),e.d(t,"a",(function(){return m}));var r,i=e("fArA"),a=e("gxgZ"),o=e("sINF"),u=e("YTWJ"),c=e("5HXA"),s=e("PE4B"),d=e.n(s),f={},l=["airbnb/global/REDUCER_HYDRATE_STATE","airbnb/p3/navigation/SET_SECTION_REF","airbnb/p3/navigation/SET_SECTION_GROUP_REF"],_=["homePDP.navigation"],g=Object(c.composeWithDevTools)({name:"Airbnb",actionSanitizer:function(n){return l.includes(n.type)?Object.assign({},n,{payload:"".concat(n.type," is blacklisted")}):n},stateSanitizer:function(n){return _.reduce((function(n,t){for(var e=t.split("."),r=n,i=e.shift();i in r&&e.length>0;)r=r[i],i=e.shift();return 0===e.length&&(r[i]="state is blacklisted"),n}),n)}}),p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return g(i.applyMiddleware.apply(void 0,[o.a,u.middleware].concat(babelHelpers.toConsumableArray(n))))},h=function(n,t){return t},v=function(n){return function(t,e){var r=e.type,i=e.payload;switch(r){case"airbnb/global/REDUCER_HYDRATE_STATE":var a=i;return d()(t,a,{arrayMerge:h});default:return n(t,e)}}};function b(n){r&&r.dispatch({type:"airbnb/global/REDUCER_HYDRATE_STATE",payload:n})}function m(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.customEnhancers,e=void 0===t?[]:t,i=n.reducers,o=n.bootstrappedData,u=n.forceCreate;return r&&!u||(r=Object(a.createInjectableStore)(f,p(e),v),i&&r.injectAll(i,!0),o&&b(o)),r}},SRvz:function(n,t,e){"use strict";e.d(t,"j",(function(){return s})),e.d(t,"e",(function(){return d})),e.d(t,"g",(function(){return f})),e.d(t,"f",(function(){return l})),e.d(t,"l",(function(){return _})),e.d(t,"m",(function(){return g})),e.d(t,"o",(function(){return p})),e.d(t,"n",(function(){return h})),e.d(t,"k",(function(){return v})),e.d(t,"i",(function(){return b})),e.d(t,"h",(function(){return m})),e.d(t,"c",(function(){return O})),e.d(t,"a",(function(){return y})),e.d(t,"b",(function(){return I})),e.d(t,"d",(function(){return T})),e.d(t,"s",(function(){return E})),e.d(t,"t",(function(){return N})),e.d(t,"z",(function(){return j})),e.d(t,"p",(function(){return C})),e.d(t,"B",(function(){return w})),e.d(t,"x",(function(){return U})),e.d(t,"q",(function(){return A})),e.d(t,"y",(function(){return S})),e.d(t,"w",(function(){return R})),e.d(t,"u",(function(){return k})),e.d(t,"v",(function(){return L})),e.d(t,"A",(function(){return q})),e.d(t,"r",(function(){return D}));var r=e("zLbU"),i=e.n(r),a=e("qJkm"),o=e("raNa"),u=e("StLt"),c=e("giB4"),s="header/SEARCH_INPUT_FOCUS",d="header/NAVIGATION_CHANGE_COLOR_THEME",f="header/NAVIGATION_ITEM_SELECT",l="header/NAVIGATION_ITEM_DESELECT",_="header/USER_LOGIN",g="header/USER_LOGOUT",p="header/USER_PROFILE_PICTURE_SET",h="header/USER_PROFILE_PICTURE_CLEAR",v="header/USER_CURRENCY_UPDATE",b="header/NOTIFICATION_SET",m="header/NOTIFICATION_REMOVE",O="header/FLYOUT_MENU_TOGGLE",y="header/ACTION_NOTIFICATION_REMOVE",I="header/DASHBOARD_ALERT_REMOVE",T="header/messages/LOAD";function E(){var n=a.a.current();return function(t){return Promise.all([Object(u.a)()?i.a.get("/v2/get_travel_guides_by_user",{data:{user_id:a.a.current().id}}).catch((function(){return{travelGuides:[]}})):Promise.resolve({travelGuides:[]}),a.a.fetchProfileImg(),Object(c.g)()]).then((function(e){var r=babelHelpers.slicedToArray(e,3),i=r[0],a=r[1],o=r[2];t({type:_,payload:{name:n.name,isHost:o,profilePicUrl:a,currency:n.curr,guidebooksCount:i&&i.travelGuides&&i.travelGuides.length}})}))}}function N(){return{type:g}}function j(n){var t;return t=n,a.a.updateProfileImg(t),{type:p,payload:n}}function C(){return a.a.clearProfileImg(),{type:h}}function w(n){return{type:v,payload:n}}function U(n){return{type:f,payload:n}}function A(){return{type:l}}function S(n){return{type:b,payload:n}}function R(n){return{type:m,payload:n}}function P(n){var t=n.actionType,e=n.id,r=n.endpoint;return e?{type:t,payload:{id:e},promise:new Promise((function(n,t){return i.a.deleteRequest(r).then(n,t)}))}:null}function k(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.id;return P({actionType:y,id:t,endpoint:"/v2/action_notifications/".concat(t)})}function L(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.id;return P({actionType:I,id:t,endpoint:"/v2/dashboard_alerts/".concat(t)})}function q(){return{type:O}}function D(){var n=new Promise((function(n,t){return(new o.a).get("/threads",{query:{role:"unread",include_support_messaging_threads:!0,include_mt:!0,include_luxury_assisted_booking_threads:!0,include_plus_onboarding_threads:!0,include_generic_bessie_threads:!0,_format:"for_web_notifications",_limit:3}}).get("/dashboard_alerts",{query:{scope:"notifications",_format:"for_web_notifications",_intents:"web_show_alerts"}}).submit().then(n,t)}));return{type:T,promise:n}}},StLt:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e("PuV7"),i=e("Ri7V");function a(){return!!i.a.getBootstrap("guidebook.user_profile_dropdown.force")||!!i.a.getBootstrap("guidebook.user_profile_dropdown")&&r.a.deliverExperiment("guidebook_user_profile_dropdown",{treatment:function(){return!0},control:function(){return!1},treatment_unknown:function(){return!1}})}},U4Lj:function(n,t,e){"use strict";e.d(t,"a",(function(){return o}));var r=e("wr5J"),i=e("4QDq"),a=e("SRvz");function o(n){r.default.on(i.e.loginComplete,(function(){n(Object(a.s)())})),r.default.on(i.e.logout,(function(){n(Object(a.t)())})),r.default.on(i.e.setNotification,(function(t){n(Object(a.y)(t))})),r.default.on(i.e.removeNotification,(function(t){n(Object(a.w)(t))})),r.default.on(i.e.setUserProfilePicture,(function(t){n(Object(a.z)(t))})),r.default.on(i.e.clearUserProfilePicture,(function(){n(Object(a.p)())})),r.default.on(i.e.toggleNavigationMenuItem,(function(t){n(Object(a.x)(t))})),r.default.on(i.e.updateUserCurrency,(function(t){n(Object(a.B)(t))}))}},V3kG:function(n,t,e){"use strict";e.d(t,"a",(function(){return a}));var r=e("zLbU"),i=e.n(r);function a(n,t){Array.isArray(n)||(n=[n]);var e=n.reduce((function(n,t){return n[t]=!1,n}),{});return i.a.get("/v1/trebuchet/multi",{data:{features:n}}).then((function(n){return t(function(n,t){return t.forEach((function(t){n[t.feature]=t.launch})),n}(e,n.features))}),(function(){return t(e)}))}},"Z9/e":function(n,t,e){"use strict";e.d(t,"a",(function(){return i})),e.d(t,"b",(function(){return a}));var r=e("IsoZ");function i(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.map((function(n){return{id:n.id,imageUrl:n.other_user.thumbnail_url,isUnread:n.unread,lastMessageTime:n.last_message_at,link:Object(r.e)(n),otherUserId:n.other_user.id,otherUserName:n.inquiry_property_listing&&n.inquiry_property_listing.name||n.other_user.name,text:n.text_preview,showDiscriminatoryLanguageWarning:n.show_discriminatory_language_warning}}))}function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return n.map((function(n){return{actionNotificationType:n.action_notification_type,backgroundCircleClass:n.notification_background_circle_class,id:n.id,imageUrl:n.notification_image_url,isUnread:!n.viewed,link:n.notification_url,removable:n.removable,staticImageCategory:n.notification_static_image_category,text:n.notification_text,type:n.alert_type}}))}},giB4:function(n,t,e){"use strict";e.d(t,"m",(function(){return g})),e.d(t,"n",(function(){return p})),e.d(t,"o",(function(){return h})),e.d(t,"p",(function(){return v})),e.d(t,"h",(function(){return b})),e.d(t,"l",(function(){return m})),e.d(t,"e",(function(){return O})),e.d(t,"b",(function(){return y})),e.d(t,"k",(function(){return I})),e.d(t,"j",(function(){return T})),e.d(t,"d",(function(){return E})),e.d(t,"f",(function(){return N})),e.d(t,"c",(function(){return j})),e.d(t,"q",(function(){return w})),e.d(t,"r",(function(){return U})),e.d(t,"i",(function(){return A})),e.d(t,"g",(function(){return S})),e.d(t,"a",(function(){return R}));var r=e("tl9J"),i=e.n(r),a=e("zLbU"),o=e.n(a),u=e("wr5J"),c=e("g8Fj"),s=e("qJkm"),d=e("2jR3"),f=e("4QDq"),l=e("U4Lj"),_=e("SRvz");function g(n){c.a.queueEvent({event_name:"header_nav",event_data:{sub_event:n,operation:"click",datadog_key:"header_nav.".concat(n),datadog_count:1,datadog_tags:["operation:click","header:new"]}})}function p(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];c.a.queueEvent({event_name:"small_header",event_data:{page:"flyout_view",section:n,operation:t,datadog_key:"small_header.".concat(n),datadog_count:1,datadog_tags:["operation:".concat(t),"login:".concat(e)]}})}function h(n){c.a.logEvent({event_name:"header_nav",event_data:{sub_event:n,operation:"hover",datadog_key:"header_nav.".concat(n),datadog_count:1,datadog_tags:["operation:hover","header:new"]}})}function v(n){c.a.logEvent({event_name:"header_nav",event_data:{sub_event:n,operation:"impression",datadog_key:"header_nav.".concat(n),datadog_count:1,datadog_tags:["operation:impression","header:new"]}})}function b(){u.default.emit(f.h.TOGGLE_GUEST)}function m(){return s.a.isLoggedIn()?"qualified_for_hosting_services_".concat(s.a.current().id):"qualified_for_hosting_services"}function O(){return new Promise((function(n){o.a.get("/v2/check_ip_qualifies_for_hosting_services").then((function(t){var e=t.qualified;i()(m(),e,{expires:f.c}),n(e)}))}))}function y(){return s.a.isLoggedIn()?"experience_host_".concat(s.a.current().id):"experience_host"}function I(n){return n&&0!==n.length?n:null}function T(){return i()(y())&&i()(y()).includes(f.f.EXPERIENCES)}function E(){return new Promise((function(n){o.a.get("/v2/experiences_users/".concat(s.a.current().id,"?_format=for_host_entry")).then((function(t){var e=t.experiences_user.host_tabs.map((function(n){return f.f[n]}));i()(y(),e,{expires:f.a}),n(e)}))}))}function N(){return new Promise((function(n){o.a.get("/v2/users/".concat(s.a.current().id,"?_format=for_travel_credit_status")).then((function(t){var e,r=null!=(e=t)&&null!=(e=e.user)?e.travel_credit_status:e;n(r)}))}))}function j(){return s.a.isLoggedIn()?o.a.get("/v2/users/me",{data:{_format:"for_a4w_header"}}).then((function(n){var t=n.user;return{businessTravelManager:t.business_travel_manager,isBookerDashboardLaunched:t.is_booker_dashboard_launched}})).catch((function(){return{businessTravelManager:!1,isBookerDashboardLaunched:!1}})):Promise.resolve({businessTravelManager:!1,isBookerDashboardLaunched:!1})}function C(n){var t="".concat(n,"_").concat(s.a.current().curr);return s.a.isLoggedIn()?"".concat(t,"_").concat(s.a.current().id):"".concat(t)}function w(){return C("wmpw_become_a_host")}function U(){return C("wmpw_neko")}function A(){return C("host_a_home_wmpw")}function S(){return o.a.get("/v2/users/me",{data:{_format:"for_host_navigation"}}).then((function(n){return n.user.is_host})).catch((function(n){return Object(d.b)("Error fetching host navigation field",{extra:{error:n}})}))}function R(n){Object(l.a)(n.dispatch),function(n){var t=(n.getState().header||{}).user;!s.a.isLoggedIn()||!t||!1!==t.isLoggedIn&&t.name&&t.profilePicUrl||n.dispatch(Object(_.s)())}(n)}},lxjy:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var r=e("YTWJ"),i=e("qJkm"),a=e("SRvz"),o=e("Z9/e"),u=e("ISt3"),c={user:{isLoggedIn:!1,profilePicUrl:null,name:null,currency:null},dynamicColorTheme:null,activeNavigationItem:null,navigationItemsWithNotifications:new Set,flyoutMenuIsOpen:!1,messageNotifications:{dashboardAlertCount:0,messages:[],notifications:[],status:u.d.INITIAL,unreadMessageCount:0}};function s(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,e=t.type,s=t.payload,d=n;switch(d.hydrated||(d=Object.assign({},c,d,{hydrated:!0})),e){case a.j:return Object.assign({},d,{activeNavigationItem:null});case a.g:return Object.assign({},d,{activeNavigationItem:d.activeNavigationItem===s?null:s});case a.f:return Object.assign({},d,{activeNavigationItem:null});case a.e:return Object.assign({},d,{dynamicColorTheme:s.dynamicColorTheme});case a.l:return Object.assign({},d,{user:Object.assign({},d.user,{name:s.name,profilePicUrl:s.profilePicUrl,isHost:s.isHost,currency:s.currency,isLoggedIn:!0,guidebooksCount:s.guidebooksCount}),flyoutMenuIsOpen:!1});case a.m:return Object.assign({},d,{user:Object.assign({},d.user,{isLoggedIn:!1})});case a.o:return Object.assign({},d,{user:Object.assign({},d.user,{profilePicUrl:s})});case a.n:return Object.assign({},d,{user:Object.assign({},d.user,{profilePicUrl:null})});case a.k:return Object.assign({},d,{user:Object.assign({},d.user,{currency:s})});case a.i:var f=d.navigationItemsWithNotifications;return f.has(s)?d:(f.add(s),Object.assign({},d,{navigationItemsWithNotifications:f}));case a.h:var l=d.navigationItemsWithNotifications;return l.has(s)?(l.delete(s),Object.assign({},d,{navigationItemsWithNotifications:l})):d;case a.c:return Object.assign({},d,{flyoutMenuIsOpen:!d.flyoutMenuIsOpen});case a.a:case a.b:return Object(r.handle)(d,t,{start:function(n){var t=s.id,e=n.messageNotifications.notifications.slice(),r=e.findIndex((function(n){return n.id===t}));return r>-1&&e.splice(r,1),Object.assign({},n,{messageNotifications:Object.assign({},n.messageNotifications,{notifications:e})})}});case a.d:return Object(r.handle)(d,t,{start:function(n){return Object.assign({},n,{messageNotifications:Object.assign({},n.messageNotifications,{status:u.d.LOADING})})},success:function(n){var t=s.operations;if(!t||2===!t.length)return n;var e=i.a.current();return Object.assign({},n,{messageNotifications:Object.assign({},n.messageNotifications,{dashboardAlertCount:e.num_alert,messages:Object(o.a)(t[0].response.threads),notifications:Object(o.b)(t[1].response.dashboard_alerts),status:u.d.SUCCESS,unreadMessageCount:e.num_msg})})},failure:function(n){return Object.assign({},n,{messageNotifications:Object.assign({},n.messageNotifications,{status:u.d.ERROR})})}});default:return d}}},raNa:function(n,t,e){"use strict";var r=e("zLbU"),i=e.n(r),a=e("OtDV"),o=function(){function n(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.request={_transaction:!!n,operations:[]}}var t=n.prototype;return t.addOperation=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!n)throw new TypeError("must define a method");if(!t)throw new TypeError("must define an API path");return this.request.operations.push(Object.assign({},e,{method:n,path:t})),this},t.submit=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.default.ajax(Object.assign({type:"POST",url:i.a.getUrl("/v2/batch"),dataType:"json",contentType:"application/json",data:JSON.stringify(this.request)},n))},t.options=function(n,t){return this.addOperation("OPTIONS",n,t)},t.get=function(n,t){return this.addOperation("GET",n,t)},t.put=function(n,t){return this.addOperation("PUT",n,t)},t.post=function(n,t){return this.addOperation("POST",n,t)},t.patch=function(n,t){return this.addOperation("PATCH",n,t)},t.delete=function(n,t){return this.addOperation("DELETE",n,t)},n}();t.a=o}}]);
//# sourceMappingURL=https://sourcemaps.d.musta.ch/airbnb/static/packages/564f-3d763455.js.map